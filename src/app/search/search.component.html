<div class = "row">
  <h3> Quick Search</h3>
</div>

<form [formGroup]="searchForm" (ngSubmit)="searchStudent()">
  <div class="row">
  <div class="form-group col-sm-6">
    <label for="searchCriteria">Search Criteria</label>
      <select class="form-control" formControlName="searchCriteria"
      [(ngModel)]="selectedsearchCriteria" [ngClass]="{
        'is-invalid': submitted && searchFormControl['searchCriteria'].errors
      }">
        <option disabled>Select search criteria</option>
        <option value="StudentName">Student Number</option>
		    <option value="FirstName">First Name</option>
		    <option value="LastName">Last Name</option>
		    <option value="EmailAddress">Email Address</option>
      </select>
      <div
        *ngIf="submitted && searchFormControl['searchCriteria'].errors"
        class="invalid-feedback">
        <div *ngIf="searchFormControl['searchCriteria'].errors['required']">
          Email Address is required
        </div>
      </div>
  </div>
  <div class="form-group col-sm-6">
    <label for="searchTerm">search term</label>
    <input type="text" formControlName="termSearched"
      class="form-control" [(ngModel)]="searchTerm"
      [ngClass]="{ 'is-invalid': submitted && searchFormControl['termSearched'].errors}"
      required="true"/>
      <div
      *ngIf="submitted && searchFormControl['searchFormControl'].errors"
      class="invalid-feedback">
      <div *ngIf="searchFormControl['searchFormControl'].errors['required']">
        Email Address is required
      </div>
    </div>
  </div>

</div>
<div class="row">
  <div class="form-group">
    <button  type="submit" class="btn btn-success col-sm-6" >Submit</button>
    <button
      type="button"
      class="btn btn-success col-sm-6">
      Cancel
    </button>
  </div>
</div>
</form>

<br/>
<br/>

<!-- Table for list of employee -->
<table class = "table table-striped table-bordered">
  <thead>
      <tr>
         <th>Student No.</th>
          <th> Full Name</th>
          <th> Cell No. </th>
          <th> Email</th>
          <th> Current Score</th>
          <th> Average Score</th>
          <th> Action </th>
      </tr>
  </thead>
  <tbody>
      <tr *ngFor = "let student of students | paginate: { itemsPerPage: count, currentPage: currentPage }" >
          <td> {{ student.studentNumber }} </td>
          <td> {{ student.first_name }} {{ student.last_name }} </td>
          <td> {{ student.mobile_number }} </td>
          <td> {{ student.email_address }} </td>
          <td> {{ student.current_score }}% </td>
          <td> {{ student.average_score}}% </td>
          <td>
              <button (click) = "addScore(student.id)" class = "btn btn-primary" style="margin-left: 10px">ADD SCORE</button>
              <button (click) = "updateStudent(student.id)" class = "btn btn-primary" style="margin-left: 5px"><mat-icon>create</mat-icon></button>
              <button (click) = "deleteStudent(student.id)" class = "btn btn-danger" style="margin-left: 5px"> <mat-icon>delete</mat-icon></button>
          </td>
      </tr>
  </tbody>
</table>
 <!--Including the pagination control.-->
 <div class="text-right">
  <pagination-controls (pageChange)="currentPage = $event"></pagination-controls>
</div>
